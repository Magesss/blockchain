<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒºå—é“¾æ¨¡æ‹Ÿå™¨æ¶æ„å¯è§†åŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .visualization-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 1400px;
            width: 100%;
        }

        .architecture-diagram {
            position: relative;
            width: 100%;
            height: 800px;
            background: #f8f9ff;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #e0e6ff;
        }

        .layer {
            position: absolute;
            width: calc(100% - 320px);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 0 20px;
        }

        .layer-1 { top: 50px; height: 120px; background: rgba(102, 126, 234, 0.1); }
        .layer-2 { top: 200px; height: 120px; background: rgba(118, 75, 162, 0.1); }
        .layer-3 { top: 350px; height: 120px; background: rgba(102, 126, 234, 0.1); }
        .layer-4 { top: 500px; height: 120px; background: rgba(118, 75, 162, 0.1); }
        .layer-5 { top: 650px; height: 120px; background: rgba(102, 126, 234, 0.1); }

        .component {
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 140px;
            border: 2px solid transparent;
            position: relative;
        }

        .component:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .component.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .component-title {
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .component-desc {
            font-size: 0.7rem;
            color: #666;
            line-height: 1.2;
        }

        .component.active .component-desc {
            color: rgba(255,255,255,0.9);
        }

        .connection {
            position: absolute;
            background: #667eea;
            z-index: 1;
        }

        .connection-vertical {
            width: 3px;
            left: calc(50% - 160px);
            transform: translateX(-50%);
        }

        .connection-horizontal {
            height: 3px;
            top: 50%;
            transform: translateY(-50%);
        }

        .layer-label {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .info-panel {
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            width: 280px;
            background: white;
            border-radius: 12px;
            padding: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 2px solid #e0e6ff;
            max-height: 350px;
            overflow-y: auto;
            z-index: 10;
        }

        .info-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-content {
            font-size: 0.9rem;
            line-height: 1.5;
            color: #333;
        }

        .flow-arrows {
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .arrow-down {
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 12px solid #667eea;
        }

        .legend {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .controls {
            margin-top: 20px;
            text-align: center;
        }

        .control-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .control-btn:hover {
            background: #5a6fd8;
        }

        .control-btn.active {
            background: #764ba2;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .component.highlight {
            animation: pulse 1s infinite;
            border-color: #ff6b6b;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ”— åŒºå—é“¾æ¨¡æ‹Ÿå™¨æ¶æ„å¯è§†åŒ–</h1>
        <p>äº¤äº’å¼ç³»ç»Ÿæ¶æ„å›¾ - ç‚¹å‡»ç»„ä»¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
    </div>

    <div class="visualization-container">
        <div class="architecture-diagram" id="diagram">
            <!-- ç”¨æˆ·äº¤äº’å±‚ -->
            <div class="layer layer-1">
                <div class="layer-label">ç”¨æˆ·äº¤äº’å±‚</div>
                <div class="component" data-info="cli">
                    <div class="component-title">ğŸ–¥ï¸ å‘½ä»¤è¡Œç•Œé¢</div>
                    <div class="component-desc">äº¤äº’å¼èœå•ç³»ç»Ÿ</div>
                </div>
                <div class="component" data-info="web">
                    <div class="component-title">ğŸŒ Webç•Œé¢</div>
                    <div class="component-desc">åŒºå—é“¾æµè§ˆå™¨</div>
                </div>
                <div class="component" data-info="api">
                    <div class="component-title">ğŸ”Œ REST API</div>
                    <div class="component-desc">HTTPæ¥å£æœåŠ¡</div>
                </div>
                <div class="component" data-info="websocket">
                    <div class="component-title">âš¡ WebSocket</div>
                    <div class="component-desc">å®æ—¶æ•°æ®æ¨é€</div>
                </div>
            </div>

            <!-- ä¸šåŠ¡é€»è¾‘å±‚ -->
            <div class="layer layer-2">
                <div class="layer-label">ä¸šåŠ¡é€»è¾‘å±‚</div>
                <div class="component" data-info="simulator">
                    <div class="component-title">ğŸ® æ¨¡æ‹Ÿå™¨æ ¸å¿ƒ</div>
                    <div class="component-desc">BlockchainSimulator</div>
                </div>
                <div class="component" data-info="wallet-manager">
                    <div class="component-title">ğŸ‘› é’±åŒ…ç®¡ç†å™¨</div>
                    <div class="component-desc">WalletManager</div>
                </div>
                <div class="component" data-info="explorer">
                    <div class="component-title">ğŸ” åŒºå—é“¾æµè§ˆå™¨</div>
                    <div class="component-desc">BlockchainExplorer</div>
                </div>
            </div>

            <!-- æ ¸å¿ƒæœåŠ¡å±‚ -->
            <div class="layer layer-3">
                <div class="layer-label">æ ¸å¿ƒæœåŠ¡å±‚</div>
                <div class="component" data-info="blockchain">
                    <div class="component-title">â›“ï¸ åŒºå—é“¾æ ¸å¿ƒ</div>
                    <div class="component-desc">Blockchain</div>
                </div>
                <div class="component" data-info="miner">
                    <div class="component-title">â›ï¸ æŒ–çŸ¿æœåŠ¡</div>
                    <div class="component-desc">Miner</div>
                </div>
                <div class="component" data-info="mining-pool">
                    <div class="component-title">ğŸŠ çŸ¿æ± æœåŠ¡</div>
                    <div class="component-desc">MiningPool</div>
                </div>
                <div class="component" data-info="wallet">
                    <div class="component-title">ğŸ’³ é’±åŒ…æœåŠ¡</div>
                    <div class="component-desc">Wallet</div>
                </div>
            </div>

            <!-- æ•°æ®å¤„ç†å±‚ -->
            <div class="layer layer-4">
                <div class="layer-label">æ•°æ®å¤„ç†å±‚</div>
                <div class="component" data-info="transaction">
                    <div class="component-title">ğŸ“ äº¤æ˜“å¤„ç†</div>
                    <div class="component-desc">Transaction</div>
                </div>
                <div class="component" data-info="block">
                    <div class="component-title">ğŸ§± åŒºå—å¤„ç†</div>
                    <div class="component-desc">Block</div>
                </div>
                <div class="component" data-info="token">
                    <div class="component-title">ğŸª™ ä»£å¸ç³»ç»Ÿ</div>
                    <div class="component-desc">Token Management</div>
                </div>
                <div class="component" data-info="crypto">
                    <div class="component-title">ğŸ” åŠ å¯†æœåŠ¡</div>
                    <div class="component-desc">Cryptography</div>
                </div>
            </div>

            <!-- å­˜å‚¨å±‚ -->
            <div class="layer layer-5">
                <div class="layer-label">å­˜å‚¨å±‚</div>
                <div class="component" data-info="chain-storage">
                    <div class="component-title">ğŸ’¾ åŒºå—é“¾å­˜å‚¨</div>
                    <div class="component-desc">å†…å­˜å­˜å‚¨</div>
                </div>
                <div class="component" data-info="wallet-storage">
                    <div class="component-title">ğŸ“ é’±åŒ…å­˜å‚¨</div>
                    <div class="component-desc">æ–‡ä»¶ç³»ç»Ÿ</div>
                </div>
                <div class="component" data-info="state">
                    <div class="component-title">ğŸ“Š çŠ¶æ€ç®¡ç†</div>
                    <div class="component-desc">ä½™é¢&ä»£å¸</div>
                </div>
            </div>

            <!-- è¿æ¥çº¿ -->
            <div class="connection connection-vertical" style="top: 170px; height: 30px;"></div>
            <div class="connection connection-vertical" style="top: 320px; height: 30px;"></div>
            <div class="connection connection-vertical" style="top: 470px; height: 30px;"></div>
            <div class="connection connection-vertical" style="top: 620px; height: 30px;"></div>

            <!-- ç®­å¤´ -->
            <div class="flow-arrows arrow-down" style="top: 185px; left: 50%; transform: translateX(-50%);"></div>
            <div class="flow-arrows arrow-down" style="top: 335px; left: 50%; transform: translateX(-50%);"></div>
            <div class="flow-arrows arrow-down" style="top: 485px; left: 50%; transform: translateX(-50%);"></div>
            <div class="flow-arrows arrow-down" style="top: 635px; left: 50%; transform: translateX(-50%);"></div>

            <!-- ä¿¡æ¯é¢æ¿ -->
            <div class="info-panel" id="infoPanel">
                <div class="info-title">ğŸ’¡ ç»„ä»¶ä¿¡æ¯</div>
                <div class="info-content" id="infoContent">
                    ç‚¹å‡»ä»»æ„ç»„ä»¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å’ŒåŠŸèƒ½è¯´æ˜
                </div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(102, 126, 234, 0.3);"></div>
                <span>ç”¨æˆ·äº¤äº’ & æ ¸å¿ƒæœåŠ¡</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(118, 75, 162, 0.3);"></div>
                <span>ä¸šåŠ¡é€»è¾‘ & æ•°æ®å¤„ç†</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #667eea;"></div>
                <span>æ•°æ®æµå‘</span>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="showDataFlow()">æ˜¾ç¤ºæ•°æ®æµ</button>
            <button class="control-btn" onclick="showMiningFlow()">æ˜¾ç¤ºæŒ–çŸ¿æµç¨‹</button>
            <button class="control-btn" onclick="showTransactionFlow()">æ˜¾ç¤ºäº¤æ˜“æµç¨‹</button>
            <button class="control-btn active" onclick="resetView()">é‡ç½®è§†å›¾</button>
        </div>
    </div>

    <script>
        // ç»„ä»¶ä¿¡æ¯æ•°æ®
        const componentInfo = {
            'cli': {
                title: 'ğŸ–¥ï¸ å‘½ä»¤è¡Œç•Œé¢ (CLI)',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ æä¾›äº¤äº’å¼èœå•ç³»ç»Ÿ<br>
                    â€¢ æ”¯æŒé’±åŒ…ç®¡ç†ã€äº¤æ˜“å‘é€ã€æŒ–çŸ¿æ§åˆ¶<br>
                    â€¢ å®æ—¶æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€å’Œäº‹ä»¶<br>
                    â€¢ æ¼”ç¤ºæ¨¡å¼è‡ªåŠ¨åŒ–æµ‹è¯•<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> index.js<br>
                    <strong>ç±»ï¼š</strong> BlockchainSimulator
                `
            },
            'web': {
                title: 'ğŸŒ Webç•Œé¢',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ åŒºå—é“¾æµè§ˆå™¨ç•Œé¢<br>
                    â€¢ åŒºå—å’Œäº¤æ˜“æŸ¥è¯¢<br>
                    â€¢ å®æ—¶æ•°æ®å¯è§†åŒ–<br>
                    â€¢ ä»£å¸ç®¡ç†å’Œè½¬è´¦<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> public/*.html<br>
                    <strong>ç«¯å£ï¼š</strong> 3000
                `
            },
            'api': {
                title: 'ğŸ”Œ REST API',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ /api/overview - åŒºå—é“¾æ¦‚è§ˆ<br>
                    â€¢ /api/blocks - åŒºå—åˆ—è¡¨<br>
                    â€¢ /api/transactions - äº¤æ˜“åˆ—è¡¨<br>
                    â€¢ /api/address/:addr - åœ°å€ä¿¡æ¯<br><br>
                    <strong>æŠ€æœ¯ï¼š</strong> Express.js<br>
                    <strong>æ ¼å¼ï¼š</strong> JSON
                `
            },
            'websocket': {
                title: 'âš¡ WebSocket',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ å®æ—¶æ¨é€æ–°åŒºå—ä¿¡æ¯<br>
                    â€¢ å®æ—¶æ¨é€äº¤æ˜“çŠ¶æ€<br>
                    â€¢ æŒ–çŸ¿çŠ¶æ€æ›´æ–°<br>
                    â€¢ ä½™é¢å˜åŒ–é€šçŸ¥<br><br>
                    <strong>æŠ€æœ¯ï¼š</strong> wsåº“<br>
                    <strong>åè®®ï¼š</strong> WebSocket
                `
            },
            'simulator': {
                title: 'ğŸ® æ¨¡æ‹Ÿå™¨æ ¸å¿ƒ',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ ç³»ç»Ÿåˆå§‹åŒ–å’Œé…ç½®<br>
                    â€¢ ç»„ä»¶åè°ƒå’Œç®¡ç†<br>
                    â€¢ äº‹ä»¶ç›‘å¬å’Œå¤„ç†<br>
                    â€¢ æ¼”ç¤ºæ¨¡å¼æ§åˆ¶<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> index.js<br>
                    <strong>æ¨¡å¼ï¼š</strong> å•ä¾‹æ¨¡å¼
                `
            },
            'wallet-manager': {
                title: 'ğŸ‘› é’±åŒ…ç®¡ç†å™¨',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ é’±åŒ…åˆ›å»ºå’Œå¯¼å…¥<br>
                    â€¢ å¯†é’¥å¯¹ç®¡ç†<br>
                    â€¢ é’±åŒ…æ–‡ä»¶æŒä¹…åŒ–<br>
                    â€¢ å¤šé’±åŒ…åˆ‡æ¢<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/wallet.js<br>
                    <strong>ç±»ï¼š</strong> WalletManager
                `
            },
            'explorer': {
                title: 'ğŸ” åŒºå—é“¾æµè§ˆå™¨',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ WebæœåŠ¡å™¨ç®¡ç†<br>
                    â€¢ APIè·¯ç”±å¤„ç†<br>
                    â€¢ WebSocketæœåŠ¡<br>
                    â€¢ é™æ€æ–‡ä»¶æœåŠ¡<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/explorer.js<br>
                    <strong>ç±»ï¼š</strong> BlockchainExplorer
                `
            },
            'blockchain': {
                title: 'â›“ï¸ åŒºå—é“¾æ ¸å¿ƒ',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ åŒºå—é“¾æ•°æ®ç»“æ„ç»´æŠ¤<br>
                    â€¢ äº¤æ˜“éªŒè¯å’Œå¤„ç†<br>
                    â€¢ ä½™é¢è®¡ç®—å’Œç®¡ç†<br>
                    â€¢ é“¾æœ‰æ•ˆæ€§éªŒè¯<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/blockchain.js<br>
                    <strong>ç±»ï¼š</strong> Blockchain
                `
            },
            'miner': {
                title: 'â›ï¸ æŒ–çŸ¿æœåŠ¡',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ å·¥ä½œé‡è¯æ˜æŒ–çŸ¿<br>
                    â€¢ åŒºå—åˆ›å»ºå’ŒéªŒè¯<br>
                    â€¢ æŒ–çŸ¿ç»Ÿè®¡å’Œç›‘æ§<br>
                    â€¢ å¤šçŸ¿å·¥å¹¶è¡Œæ”¯æŒ<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/miner.js<br>
                    <strong>ç±»ï¼š</strong> Miner
                `
            },
            'mining-pool': {
                title: 'ğŸŠ çŸ¿æ± æœåŠ¡',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ çŸ¿å·¥åä½œæŒ–çŸ¿<br>
                    â€¢ å¥–åŠ±åˆ†é…ç®—æ³•<br>
                    â€¢ çŸ¿æ± ç»Ÿè®¡ç®¡ç†<br>
                    â€¢ è´Ÿè½½å‡è¡¡<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/miner.js<br>
                    <strong>ç±»ï¼š</strong> MiningPool
                `
            },
            'wallet': {
                title: 'ğŸ’³ é’±åŒ…æœåŠ¡',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ RSAå¯†é’¥å¯¹ç”Ÿæˆ<br>
                    â€¢ æ•°å­—ç­¾åå’ŒéªŒè¯<br>
                    â€¢ åœ°å€ç”Ÿæˆç®—æ³•<br>
                    â€¢ ç§é’¥åŠ å¯†å­˜å‚¨<br><br>
                    <strong>æ–‡ä»¶ï¼š</strong> src/wallet.js<br>
                    <strong>ç±»ï¼š</strong> Wallet
                `
            },
            'transaction': {
                title: 'ğŸ“ äº¤æ˜“å¤„ç†',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ äº¤æ˜“å¯¹è±¡åˆ›å»º<br>
                    â€¢ æ•°å­—ç­¾åéªŒè¯<br>
                    â€¢ æ‰‹ç»­è´¹è®¡ç®—<br>
                    â€¢ äº¤æ˜“ç±»å‹æ”¯æŒ<br><br>
                    <strong>ç±»å‹ï¼š</strong> transfer, mint_token, mining_reward<br>
                    <strong>ç±»ï¼š</strong> Transaction
                `
            },
            'block': {
                title: 'ğŸ§± åŒºå—å¤„ç†',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ åŒºå—æ•°æ®ç»“æ„<br>
                    â€¢ å“ˆå¸Œè®¡ç®—å’ŒéªŒè¯<br>
                    â€¢ å·¥ä½œé‡è¯æ˜ç®—æ³•<br>
                    â€¢ åŒºå—é“¾æ¥å’ŒéªŒè¯<br><br>
                    <strong>ç®—æ³•ï¼š</strong> SHA-256<br>
                    <strong>ç±»ï¼š</strong> Block
                `
            },
            'token': {
                title: 'ğŸª™ ä»£å¸ç³»ç»Ÿ',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ è‡ªå®šä¹‰ä»£å¸åˆ›å»º<br>
                    â€¢ ä»£å¸è½¬è´¦å¤„ç†<br>
                    â€¢ ä»£å¸é“¸é€ å’Œé”€æ¯<br>
                    â€¢ å¤šä»£å¸ä½™é¢ç®¡ç†<br><br>
                    <strong>æ ‡å‡†ï¼š</strong> ç±»ERC-20<br>
                    <strong>å­˜å‚¨ï¼š</strong> Mapç»“æ„
                `
            },
            'crypto': {
                title: 'ğŸ” åŠ å¯†æœåŠ¡',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ RSAå¯†é’¥å¯¹ç”Ÿæˆ<br>
                    â€¢ SHA-256å“ˆå¸Œè®¡ç®—<br>
                    â€¢ æ•°å­—ç­¾åç®—æ³•<br>
                    â€¢ åœ°å€ç”Ÿæˆç®—æ³•<br><br>
                    <strong>åº“ï¼š</strong> Node.js crypto<br>
                    <strong>ç®—æ³•ï¼š</strong> RSA-2048, SHA-256
                `
            },
            'chain-storage': {
                title: 'ğŸ’¾ åŒºå—é“¾å­˜å‚¨',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ åŒºå—é“¾æ•°æ®å­˜å‚¨<br>
                    â€¢ äº¤æ˜“æ± ç®¡ç†<br>
                    â€¢ å†…å­˜æ•°æ®ç»“æ„<br>
                    â€¢ å¿«é€ŸæŸ¥è¯¢ç´¢å¼•<br><br>
                    <strong>ç»“æ„ï¼š</strong> Array + Map<br>
                    <strong>ç±»å‹ï¼š</strong> å†…å­˜å­˜å‚¨
                `
            },
            'wallet-storage': {
                title: 'ğŸ“ é’±åŒ…å­˜å‚¨',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ é’±åŒ…æ–‡ä»¶æŒä¹…åŒ–<br>
                    â€¢ JSONæ ¼å¼å­˜å‚¨<br>
                    â€¢ å¯†é’¥å®‰å…¨å­˜å‚¨<br>
                    â€¢ æ‰¹é‡å¯¼å…¥å¯¼å‡º<br><br>
                    <strong>æ ¼å¼ï¼š</strong> JSON<br>
                    <strong>ä½ç½®ï¼š</strong> ./wallets/
                `
            },
            'state': {
                title: 'ğŸ“Š çŠ¶æ€ç®¡ç†',
                content: `
                    <strong>åŠŸèƒ½ï¼š</strong><br>
                    â€¢ è´¦æˆ·ä½™é¢ç®¡ç†<br>
                    â€¢ ä»£å¸ä½™é¢è·Ÿè¸ª<br>
                    â€¢ äº¤æ˜“çŠ¶æ€ç»´æŠ¤<br>
                    â€¢ ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯<br><br>
                    <strong>ç»“æ„ï¼š</strong> Map + EventEmitter<br>
                    <strong>æ›´æ–°ï¼š</strong> å®æ—¶è®¡ç®—
                `
            }
        };

        // äº‹ä»¶ç›‘å¬
        document.addEventListener('DOMContentLoaded', function() {
            const components = document.querySelectorAll('.component');
            const infoContent = document.getElementById('infoContent');

            components.forEach(component => {
                component.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–ç»„ä»¶çš„activeçŠ¶æ€
                    components.forEach(c => c.classList.remove('active'));

                    // æ·»åŠ å½“å‰ç»„ä»¶çš„activeçŠ¶æ€
                    this.classList.add('active');

                    // æ›´æ–°ä¿¡æ¯é¢æ¿
                    const infoKey = this.getAttribute('data-info');
                    const info = componentInfo[infoKey];

                    if (info) {
                        document.querySelector('.info-title').textContent = info.title;
                        infoContent.innerHTML = info.content;
                    }
                });
            });
        });

        // æ§åˆ¶å‡½æ•°
        function resetView() {
            const components = document.querySelectorAll('.component');
            const buttons = document.querySelectorAll('.control-btn');

            components.forEach(c => {
                c.classList.remove('active', 'highlight');
            });

            buttons.forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelector('.info-title').textContent = 'ğŸ’¡ ç»„ä»¶ä¿¡æ¯';
            document.getElementById('infoContent').textContent = 'ç‚¹å‡»ä»»æ„ç»„ä»¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å’ŒåŠŸèƒ½è¯´æ˜';
        }

        function showDataFlow() {
            resetView();
            const flowComponents = ['cli', 'web', 'simulator', 'blockchain', 'transaction', 'chain-storage'];
            highlightFlow(flowComponents);

            document.querySelector('.info-title').textContent = 'ğŸ“Š æ•°æ®æµå‘';
            document.getElementById('infoContent').innerHTML = `
                <strong>æ•°æ®æµå‘è¯´æ˜ï¼š</strong><br>
                1. ç”¨æˆ·é€šè¿‡CLIæˆ–Webç•Œé¢è¾“å…¥<br>
                2. æ¨¡æ‹Ÿå™¨æ ¸å¿ƒå¤„ç†ç”¨æˆ·è¯·æ±‚<br>
                3. åŒºå—é“¾æ ¸å¿ƒéªŒè¯å’Œå¤„ç†æ•°æ®<br>
                4. äº¤æ˜“å¤„ç†æ¨¡å—æ‰§è¡Œå…·ä½“æ“ä½œ<br>
                5. æ•°æ®å­˜å‚¨åˆ°åŒºå—é“¾å­˜å‚¨<br>
                6. çŠ¶æ€æ›´æ–°å¹¶è¿”å›ç»“æœ
            `;
        }

        function showMiningFlow() {
            resetView();
            const miningComponents = ['miner', 'mining-pool', 'blockchain', 'block', 'crypto'];
            highlightFlow(miningComponents);

            document.querySelector('.info-title').textContent = 'â›ï¸ æŒ–çŸ¿æµç¨‹';
            document.getElementById('infoContent').innerHTML = `
                <strong>æŒ–çŸ¿æµç¨‹è¯´æ˜ï¼š</strong><br>
                1. çŸ¿å·¥æˆ–çŸ¿æ± å¯åŠ¨æŒ–çŸ¿<br>
                2. ä»åŒºå—é“¾è·å–å¾…å¤„ç†äº¤æ˜“<br>
                3. åˆ›å»ºæ–°åŒºå—å¹¶è®¾ç½®å‚æ•°<br>
                4. ä½¿ç”¨åŠ å¯†æœåŠ¡è¿›è¡Œå·¥ä½œé‡è¯æ˜<br>
                5. æ‰¾åˆ°æœ‰æ•ˆå“ˆå¸Œåæ·»åŠ åˆ°é“¾<br>
                6. åˆ†é…æŒ–çŸ¿å¥–åŠ±å¹¶æ›´æ–°çŠ¶æ€
            `;
        }

        function showTransactionFlow() {
            resetView();
            const txComponents = ['wallet', 'transaction', 'blockchain', 'crypto', 'state'];
            highlightFlow(txComponents);

            document.querySelector('.info-title').textContent = 'ğŸ’¸ äº¤æ˜“æµç¨‹';
            document.getElementById('infoContent').innerHTML = `
                <strong>äº¤æ˜“æµç¨‹è¯´æ˜ï¼š</strong><br>
                1. é’±åŒ…åˆ›å»ºå¹¶ç­¾åäº¤æ˜“<br>
                2. äº¤æ˜“å¯¹è±¡éªŒè¯æ ¼å¼å’Œç­¾å<br>
                3. åŒºå—é“¾æ ¸å¿ƒéªŒè¯ä½™é¢å’Œæƒé™<br>
                4. åŠ å¯†æœåŠ¡éªŒè¯æ•°å­—ç­¾å<br>
                5. äº¤æ˜“æ·»åŠ åˆ°å¾…å¤„ç†æ± <br>
                6. çŠ¶æ€ç®¡ç†æ›´æ–°ä½™é¢ä¿¡æ¯
            `;
        }

        function highlightFlow(componentKeys) {
            const components = document.querySelectorAll('.component');
            const buttons = document.querySelectorAll('.control-btn');

            buttons.forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            components.forEach(component => {
                const key = component.getAttribute('data-info');
                if (componentKeys.includes(key)) {
                    component.classList.add('highlight');
                }
            });
        }
    </script>
</body>
</html>
